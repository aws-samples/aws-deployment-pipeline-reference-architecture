// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Pipeline Snapshot 1`] = `
{
  "Metadata": {
    "cdk_nag": {
      "rules_to_suppress": [
        {
          "id": "AwsSolutions-IAM4",
          "reason": "Allow CDK Pipeline",
        },
        {
          "id": "AwsSolutions-IAM5",
          "reason": "Allow CDK Pipeline",
        },
        {
          "id": "AwsSolutions-S1",
          "reason": "Allow CDK Pipeline",
        },
        {
          "id": "AwsSolutions-KMS5",
          "reason": "Allow CDK Pipeline",
        },
        {
          "id": "AwsSolutions-CB3",
          "reason": "Allow CDK Pipeline",
        },
      ],
    },
  },
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Resources": {
    "CacheBucket41D9D0B0": {
      "DeletionPolicy": "Retain",
      "Properties": {
        "BucketEncryption": {
          "ServerSideEncryptionConfiguration": [
            {
              "ServerSideEncryptionByDefault": {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "CacheBucketPolicyE2F00ED4": {
      "Properties": {
        "Bucket": {
          "Ref": "CacheBucket41D9D0B0",
        },
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "s3:*",
              "Condition": {
                "Bool": {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": {
                "AWS": "*",
              },
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "CacheBucket41D9D0B0",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "CacheBucket41D9D0B0",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "SourceCfnRepositoryAssociation738A9DD0": {
      "Properties": {
        "Name": {
          "Fn::GetAtt": [
            "SourceCodeCommitRepoF7A67B81",
            "Name",
          ],
        },
        "Type": "CodeCommit",
      },
      "Type": "AWS::CodeGuruReviewer::RepositoryAssociation",
    },
    "SourceCodeCommitRepoF7A67B81": {
      "Properties": {
        "Code": {
          "BranchName": "main",
          "S3": {
            "Bucket": "cdk-hnb659fds-assets-dummy-us-east-1",
            "Key": "code.zip",
          },
        },
        "RepositoryName": "fruit-api",
      },
      "Type": "AWS::CodeCommit::Repository",
    },
    "SourceCodeCommitRepoTestStackfruitapiPipeline54C9B885mainEventRule07E06655": {
      "Properties": {
        "EventPattern": {
          "detail": {
            "event": [
              "referenceCreated",
              "referenceUpdated",
            ],
            "referenceName": [
              "main",
            ],
          },
          "detail-type": [
            "CodeCommit Repository State Change",
          ],
          "resources": [
            {
              "Fn::GetAtt": [
                "SourceCodeCommitRepoF7A67B81",
                "Arn",
              ],
            },
          ],
          "source": [
            "aws.codecommit",
          ],
        },
        "State": "ENABLED",
        "Targets": [
          {
            "Arn": {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition",
                  },
                  ":codepipeline:us-east-1:dummy:",
                  {
                    "Ref": "fruitapiPipeline1F033DA2",
                  },
                ],
              ],
            },
            "Id": "Target0",
            "RoleArn": {
              "Fn::GetAtt": [
                "fruitapiPipelineEventsRole00ED83BE",
                "Arn",
              ],
            },
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "fruitapiAssetsDockerAssetD43255A2": {
      "Properties": {
        "Artifacts": {
          "Type": "CODEPIPELINE",
        },
        "Cache": {
          "Type": "NO_CACHE",
        },
        "Description": "Pipeline step TestStack/Pipeline/Assets/DockerAsset",
        "EncryptionKey": {
          "Fn::GetAtt": [
            "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
            "Arn",
          ],
        },
        "Environment": {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:7.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": true,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": {
          "Fn::GetAtt": [
            "fruitapiAssetsDockerRole19B5E4D3",
            "Arn",
          ],
        },
        "Source": {
          "BuildSpec": "buildspec-c81cb9840889e8394c8dd75a23a3f9fe04346e4f19-DockerAsset.yaml",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "fruitapiAssetsDockerRole19B5E4D3": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiAssetsDockerRoleDefaultPolicy19C4FC9E": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition",
                    },
                    ":logs:us-east-1:dummy:log-group:/aws/codebuild/*",
                  ],
                ],
              },
            },
            {
              "Action": [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/*",
                  ],
                ],
              },
            },
            {
              "Action": [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::Sub": "arn:\${AWS::Partition}:iam::000000000000:role/cdk-hnb659fds-image-publishing-role-000000000000-us-west-2",
                },
                {
                  "Fn::Sub": "arn:\${AWS::Partition}:iam::000000000000:role/cdk-hnb659fds-image-publishing-role-000000000000-us-east-1",
                },
                {
                  "Fn::Sub": "arn:\${AWS::Partition}:iam::000000000000:role/cdk-hnb659fds-image-publishing-role-000000000000-eu-central-1",
                },
                {
                  "Fn::Sub": "arn:\${AWS::Partition}:iam::000000000000:role/cdk-hnb659fds-image-publishing-role-000000000000-eu-west-1",
                },
                {
                  "Fn::Sub": "arn:\${AWS::Partition}:iam::000000000000:role/cdk-hnb659fds-image-publishing-role-000000000000-ap-south-1",
                },
                {
                  "Fn::Sub": "arn:\${AWS::Partition}:iam::000000000000:role/cdk-hnb659fds-image-publishing-role-000000000000-ap-southeast-2",
                },
              ],
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiAssetsDockerRoleDefaultPolicy19C4FC9E",
        "Roles": [
          {
            "Ref": "fruitapiAssetsDockerRole19B5E4D3",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiAssetsFileAssetE1558F89": {
      "Properties": {
        "Artifacts": {
          "Type": "CODEPIPELINE",
        },
        "Cache": {
          "Type": "NO_CACHE",
        },
        "Description": "Pipeline step TestStack/Pipeline/Assets/FileAsset",
        "EncryptionKey": {
          "Fn::GetAtt": [
            "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
            "Arn",
          ],
        },
        "Environment": {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:7.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": false,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": {
          "Fn::GetAtt": [
            "fruitapiAssetsFileRole2CEFDD50",
            "Arn",
          ],
        },
        "Source": {
          "BuildSpec": "buildspec-c81cb9840889e8394c8dd75a23a3f9fe04346e4f19-FileAsset.yaml",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "fruitapiAssetsFileRole2CEFDD50": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiAssetsFileRoleDefaultPolicyE93AC574": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition",
                    },
                    ":logs:us-east-1:dummy:log-group:/aws/codebuild/*",
                  ],
                ],
              },
            },
            {
              "Action": [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/*",
                  ],
                ],
              },
            },
            {
              "Action": [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::Sub": "arn:\${AWS::Partition}:iam::000000000000:role/cdk-hnb659fds-file-publishing-role-000000000000-us-west-2",
                },
                {
                  "Fn::Sub": "arn:\${AWS::Partition}:iam::000000000000:role/cdk-hnb659fds-file-publishing-role-000000000000-us-east-1",
                },
                {
                  "Fn::Sub": "arn:\${AWS::Partition}:iam::000000000000:role/cdk-hnb659fds-file-publishing-role-000000000000-eu-central-1",
                },
                {
                  "Fn::Sub": "arn:\${AWS::Partition}:iam::000000000000:role/cdk-hnb659fds-file-publishing-role-000000000000-eu-west-1",
                },
                {
                  "Fn::Sub": "arn:\${AWS::Partition}:iam::000000000000:role/cdk-hnb659fds-file-publishing-role-000000000000-ap-south-1",
                },
                {
                  "Fn::Sub": "arn:\${AWS::Partition}:iam::000000000000:role/cdk-hnb659fds-file-publishing-role-000000000000-ap-southeast-2",
                },
              ],
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiAssetsFileRoleDefaultPolicyE93AC574",
        "Roles": [
          {
            "Ref": "fruitapiAssetsFileRole2CEFDD50",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiCodeBuildActionRole9A61A6CE": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::GetAtt": [
                    "fruitapiPipelineRoleDFF3438D",
                    "Arn",
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiCodeBuildActionRoleDefaultPolicy58443F01": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineBuildTrivyScan7159420B",
                  "Arn",
                ],
              },
            },
            {
              "Action": [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineBuild1CEF8E13",
                  "Arn",
                ],
              },
            },
            {
              "Action": [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineBuildSynthCdkBuildProjectB2FD2528",
                  "Arn",
                ],
              },
            },
            {
              "Action": [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiUpdatePipelineSelfMutation2C85BD41",
                  "Arn",
                ],
              },
            },
            {
              "Action": [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiAssetsDockerAssetD43255A2",
                  "Arn",
                ],
              },
            },
            {
              "Action": [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiAssetsFileAssetE1558F89",
                  "Arn",
                ],
              },
            },
            {
              "Action": [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineBetauswest2E2ETestE2ETest3CB062CC",
                  "Arn",
                ],
              },
            },
            {
              "Action": [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineGamma0Gammauswest2PerformanceTestPerformanceTest8C6ACD96",
                  "Arn",
                ],
              },
            },
            {
              "Action": [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineGamma0Gammauseast1PerformanceTestPerformanceTestE1E6B155",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiCodeBuildActionRoleDefaultPolicy58443F01",
        "Roles": [
          {
            "Ref": "fruitapiCodeBuildActionRole9A61A6CE",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipeline1F033DA2": {
      "DependsOn": [
        "fruitapiPipelineRoleDefaultPolicyAA4C5A7F",
        "fruitapiPipelineRoleDFF3438D",
      ],
      "Properties": {
        "ArtifactStores": [
          {
            "ArtifactStore": {
              "EncryptionKey": {
                "Id": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":kms:us-west-2:dummy:alias/-us-westtencryptionaliase94f7d312d6a60d53e79",
                    ],
                  ],
                },
                "Type": "KMS",
              },
              "Location": "teststack-support-us-westeplicationbucket6c4b3648c465b12ccb3f",
              "Type": "S3",
            },
            "Region": "us-west-2",
          },
          {
            "ArtifactStore": {
              "EncryptionKey": {
                "Id": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":kms:eu-central-1:dummy:alias/-eu-centtencryptionalias9af9f3baa6f4d0e08faa",
                    ],
                  ],
                },
                "Type": "KMS",
              },
              "Location": "teststack-support-eu-centeplicationbucket2ea6a5e48d5e28fc8bac",
              "Type": "S3",
            },
            "Region": "eu-central-1",
          },
          {
            "ArtifactStore": {
              "EncryptionKey": {
                "Id": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":kms:eu-west-1:dummy:alias/-eu-westtencryptionalias2c129cd6ae48a82d3c41",
                    ],
                  ],
                },
                "Type": "KMS",
              },
              "Location": "teststack-support-eu-westeplicationbucket38f2db97e24f75f47670",
              "Type": "S3",
            },
            "Region": "eu-west-1",
          },
          {
            "ArtifactStore": {
              "EncryptionKey": {
                "Id": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":kms:ap-south-1:dummy:alias/-ap-souttencryptionaliasf550e8b9babe0af1f76f",
                    ],
                  ],
                },
                "Type": "KMS",
              },
              "Location": "teststack-support-ap-souteplicationbucket9f37be574b7489dcf907",
              "Type": "S3",
            },
            "Region": "ap-south-1",
          },
          {
            "ArtifactStore": {
              "EncryptionKey": {
                "Id": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":kms:ap-southeast-2:dummy:alias/-ap-souttencryptionaliasedbcb5f7a713715f9af6",
                    ],
                  ],
                },
                "Type": "KMS",
              },
              "Location": "teststack-support-ap-souteplicationbucket96d426b15838f27daa81",
              "Type": "S3",
            },
            "Region": "ap-southeast-2",
          },
          {
            "ArtifactStore": {
              "EncryptionKey": {
                "Id": {
                  "Fn::GetAtt": [
                    "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                    "Arn",
                  ],
                },
                "Type": "KMS",
              },
              "Location": {
                "Ref": "fruitapiPipelineArtifactsBucket07B9157E",
              },
              "Type": "S3",
            },
            "Region": "us-east-1",
          },
        ],
        "Name": "fruit-api",
        "PipelineType": "V1",
        "RestartExecutionOnUpdate": true,
        "RoleArn": {
          "Fn::GetAtt": [
            "fruitapiPipelineRoleDFF3438D",
            "Arn",
          ],
        },
        "Stages": [
          {
            "Actions": [
              {
                "ActionTypeId": {
                  "Category": "Source",
                  "Owner": "AWS",
                  "Provider": "CodeCommit",
                  "Version": "1",
                },
                "Configuration": {
                  "BranchName": "main",
                  "PollForSourceChanges": false,
                  "RepositoryName": {
                    "Fn::GetAtt": [
                      "SourceCodeCommitRepoF7A67B81",
                      "Name",
                    ],
                  },
                },
                "Name": {
                  "Fn::GetAtt": [
                    "SourceCodeCommitRepoF7A67B81",
                    "Name",
                  ],
                },
                "Namespace": "Source@c81247736ebecb146a1d9a5ee9d4686c00c8806055",
                "OutputArtifacts": [
                  {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "RoleArn": {
                  "Fn::GetAtt": [
                    "fruitapiPipelineSourceCodeCommitCodePipelineActionRole408E27CC",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
            ],
            "Name": "Source",
          },
          {
            "Actions": [
              {
                "ActionTypeId": {
                  "Category": "Invoke",
                  "Owner": "AWS",
                  "Provider": "Lambda",
                  "Version": "1",
                },
                "Configuration": {
                  "FunctionName": {
                    "Ref": "fruitapiPipelineCodeGuruQualityCodeGuruLambdaF7A3E8BE",
                  },
                  "UserParameters": "{"RepositoryName":"#{Source@c81247736ebecb146a1d9a5ee9d4686c00c8806055.RepositoryName}","CommitId":"#{Source@c81247736ebecb146a1d9a5ee9d4686c00c8806055.CommitId}","RecommendationCategories":"AWSBestPractices,CodeInconsistencies,CodeMaintenanceIssues,DuplicateCode,InputValidations,ConcurrencyIssues,ResourceLeaks,JavaBestPractices,PythonBestPractices","MaxSuppressedLinesOfCodeCount":"0","MaxCriticalRecommendations":"0","MaxHighRecommendations":"0","MaxInfoRecommendations":"0","MaxMediumRecommendations":"0","MaxLowRecommendations":"0","ReviewRequired":"false"}",
                },
                "InputArtifacts": [
                  {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "Name": "CodeGuruQuality",
                "RoleArn": {
                  "Fn::GetAtt": [
                    "fruitapiPipelineBuildCodeGuruQualityCodePipelineActionRole578506C4",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
              {
                "ActionTypeId": {
                  "Category": "Invoke",
                  "Owner": "AWS",
                  "Provider": "Lambda",
                  "Version": "1",
                },
                "Configuration": {
                  "FunctionName": {
                    "Ref": "fruitapiPipelineCodeGuruSecurityCodeGuruLambda095BEB71",
                  },
                  "UserParameters": "{"RepositoryName":"#{Source@c81247736ebecb146a1d9a5ee9d4686c00c8806055.RepositoryName}","CommitId":"#{Source@c81247736ebecb146a1d9a5ee9d4686c00c8806055.CommitId}","RecommendationCategories":"SecurityIssues","MaxSuppressedLinesOfCodeCount":"0","MaxCriticalRecommendations":"0","MaxHighRecommendations":"0","MaxInfoRecommendations":"0","MaxMediumRecommendations":"0","MaxLowRecommendations":"0","ReviewRequired":"false"}",
                },
                "InputArtifacts": [
                  {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "Name": "CodeGuruSecurity",
                "RoleArn": {
                  "Fn::GetAtt": [
                    "fruitapiPipelineBuildCodeGuruSecurityCodePipelineActionRole29AC9D5B",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
              {
                "ActionTypeId": {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": {
                  "EnvironmentVariables": "[{"name":"_PROJECT_CONFIG_HASH","type":"PLAINTEXT","value":"7f552399519ec6a2026796a223b5d10b2d3be0aa60114a27a716c47f029397af"}]",
                  "ProjectName": {
                    "Ref": "fruitapiPipelineBuildTrivyScan7159420B",
                  },
                },
                "InputArtifacts": [
                  {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "Name": "TrivyScan",
                "OutputArtifacts": [
                  {
                    "Name": "TrivyScan_Output",
                  },
                ],
                "RoleArn": {
                  "Fn::GetAtt": [
                    "fruitapiCodeBuildActionRole9A61A6CE",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
              {
                "ActionTypeId": {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": {
                  "EnvironmentVariables": "[{"name":"_PROJECT_CONFIG_HASH","type":"PLAINTEXT","value":"35a67d5920cf485154569aa37698b7162671b22bcbf2b1d78935c162b42de7a2"}]",
                  "ProjectName": {
                    "Ref": "fruitapiPipelineBuild1CEF8E13",
                  },
                },
                "InputArtifacts": [
                  {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "Name": "Build",
                "OutputArtifacts": [
                  {
                    "Name": "Build_Output",
                  },
                ],
                "RoleArn": {
                  "Fn::GetAtt": [
                    "fruitapiCodeBuildActionRole9A61A6CE",
                    "Arn",
                  ],
                },
                "RunOrder": 2,
              },
              {
                "ActionTypeId": {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": {
                  "EnvironmentVariables": "[{"name":"_PROJECT_CONFIG_HASH","type":"PLAINTEXT","value":"ad78873bd9d2057cff5376ac928a8dd1467a69cfb88aaa0c685e9f13a9559b1d"}]",
                  "ProjectName": {
                    "Ref": "fruitapiPipelineBuildSynthCdkBuildProjectB2FD2528",
                  },
                },
                "InputArtifacts": [
                  {
                    "Name": "Build_Output",
                  },
                ],
                "Name": "Synth",
                "OutputArtifacts": [
                  {
                    "Name": "Synth_Output",
                  },
                ],
                "RoleArn": {
                  "Fn::GetAtt": [
                    "fruitapiCodeBuildActionRole9A61A6CE",
                    "Arn",
                  ],
                },
                "RunOrder": 3,
              },
            ],
            "Name": "Build",
          },
          {
            "Actions": [
              {
                "ActionTypeId": {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": {
                  "EnvironmentVariables": "[{"name":"_PROJECT_CONFIG_HASH","type":"PLAINTEXT","value":"6e52560ad23ef6c419849797819192f770b365fdfddc2b118c2b1d16ad5a4e27"}]",
                  "ProjectName": {
                    "Ref": "fruitapiUpdatePipelineSelfMutation2C85BD41",
                  },
                },
                "InputArtifacts": [
                  {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "SelfMutate",
                "RoleArn": {
                  "Fn::GetAtt": [
                    "fruitapiCodeBuildActionRole9A61A6CE",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
            ],
            "Name": "UpdatePipeline",
          },
          {
            "Actions": [
              {
                "ActionTypeId": {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": {
                  "ProjectName": {
                    "Ref": "fruitapiAssetsDockerAssetD43255A2",
                  },
                },
                "InputArtifacts": [
                  {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "DockerAsset",
                "RoleArn": {
                  "Fn::GetAtt": [
                    "fruitapiCodeBuildActionRole9A61A6CE",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
              {
                "ActionTypeId": {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": {
                  "ProjectName": {
                    "Ref": "fruitapiAssetsFileAssetE1558F89",
                  },
                },
                "InputArtifacts": [
                  {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "FileAsset",
                "RoleArn": {
                  "Fn::GetAtt": [
                    "fruitapiCodeBuildActionRole9A61A6CE",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
            ],
            "Name": "Assets",
          },
          {
            "Actions": [
              {
                "ActionTypeId": {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": {
                  "ActionMode": "CHANGE_SET_REPLACE",
                  "Capabilities": "CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND",
                  "ChangeSetName": "PipelineChange",
                  "RoleArn": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition",
                        },
                        ":iam::000000000000:role/cdk-hnb659fds-cfn-exec-role-000000000000-us-west-2",
                      ],
                    ],
                  },
                  "StackName": "Beta-us-west-2-fruit-api",
                  "TemplateConfiguration": "Synth_Output::assembly-TestStack-fruit-api-Beta-us-west-2/TestStackfruitapiBetauswest2fruitapiE54C0B51.template.json.config.json",
                  "TemplatePath": "Synth_Output::assembly-TestStack-fruit-api-Beta-us-west-2/TestStackfruitapiBetauswest2fruitapiE54C0B51.template.json",
                },
                "InputArtifacts": [
                  {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "fruit-api.Prepare",
                "Region": "us-west-2",
                "RoleArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-west-2",
                    ],
                  ],
                },
                "RunOrder": 1,
              },
              {
                "ActionTypeId": {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": {
                  "ActionMode": "CHANGE_SET_EXECUTE",
                  "ChangeSetName": "PipelineChange",
                  "StackName": "Beta-us-west-2-fruit-api",
                },
                "Name": "fruit-api.Deploy",
                "Namespace": "TestStackfruitapiBetauswest2fruitapiE54C0B51",
                "Region": "us-west-2",
                "RoleArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-west-2",
                    ],
                  ],
                },
                "RunOrder": 2,
              },
              {
                "ActionTypeId": {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": {
                  "EnvironmentVariables": "[{"name":"ENDPOINT","type":"PLAINTEXT","value":"#{TestStackfruitapiBetauswest2fruitapiE54C0B51.endpointUrl}"}]",
                  "ProjectName": {
                    "Ref": "fruitapiPipelineBetauswest2E2ETestE2ETest3CB062CC",
                  },
                },
                "InputArtifacts": [
                  {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "Name": "E2E_Test",
                "RoleArn": {
                  "Fn::GetAtt": [
                    "fruitapiCodeBuildActionRole9A61A6CE",
                    "Arn",
                  ],
                },
                "RunOrder": 3,
              },
            ],
            "Name": "Beta-us-west-2",
          },
          {
            "Actions": [
              {
                "ActionTypeId": {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": {
                  "ActionMode": "CHANGE_SET_REPLACE",
                  "Capabilities": "CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND",
                  "ChangeSetName": "PipelineChange",
                  "RoleArn": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition",
                        },
                        ":iam::000000000000:role/cdk-hnb659fds-cfn-exec-role-000000000000-us-west-2",
                      ],
                    ],
                  },
                  "StackName": "Gamma-us-west-2-fruit-api",
                  "TemplateConfiguration": "Synth_Output::assembly-TestStack-fruit-api-Gamma-us-west-2/TestStackfruitapiGammauswest2fruitapi6ACE9A1B.template.json.config.json",
                  "TemplatePath": "Synth_Output::assembly-TestStack-fruit-api-Gamma-us-west-2/TestStackfruitapiGammauswest2fruitapi6ACE9A1B.template.json",
                },
                "InputArtifacts": [
                  {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "Gamma-us-west-2.fruit-api.Prepare",
                "Region": "us-west-2",
                "RoleArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-west-2",
                    ],
                  ],
                },
                "RunOrder": 1,
              },
              {
                "ActionTypeId": {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": {
                  "ActionMode": "CHANGE_SET_REPLACE",
                  "Capabilities": "CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND",
                  "ChangeSetName": "PipelineChange",
                  "RoleArn": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition",
                        },
                        ":iam::000000000000:role/cdk-hnb659fds-cfn-exec-role-000000000000-us-east-1",
                      ],
                    ],
                  },
                  "StackName": "Gamma-us-east-1-fruit-api",
                  "TemplateConfiguration": "Synth_Output::assembly-TestStack-fruit-api-Gamma-us-east-1/TestStackfruitapiGammauseast1fruitapi8F799F28.template.json.config.json",
                  "TemplatePath": "Synth_Output::assembly-TestStack-fruit-api-Gamma-us-east-1/TestStackfruitapiGammauseast1fruitapi8F799F28.template.json",
                },
                "InputArtifacts": [
                  {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "Gamma-us-east-1.fruit-api.Prepare",
                "RoleArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-east-1",
                    ],
                  ],
                },
                "RunOrder": 1,
              },
              {
                "ActionTypeId": {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": {
                  "ActionMode": "CHANGE_SET_EXECUTE",
                  "ChangeSetName": "PipelineChange",
                  "StackName": "Gamma-us-west-2-fruit-api",
                },
                "Name": "Gamma-us-west-2.fruit-api.Deploy",
                "Namespace": "TestStackfruitapiGammauswest2fruitapi6ACE9A1B",
                "Region": "us-west-2",
                "RoleArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-west-2",
                    ],
                  ],
                },
                "RunOrder": 2,
              },
              {
                "ActionTypeId": {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": {
                  "ActionMode": "CHANGE_SET_EXECUTE",
                  "ChangeSetName": "PipelineChange",
                  "StackName": "Gamma-us-east-1-fruit-api",
                },
                "Name": "Gamma-us-east-1.fruit-api.Deploy",
                "Namespace": "TestStackfruitapiGammauseast1fruitapi8F799F28",
                "RoleArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-east-1",
                    ],
                  ],
                },
                "RunOrder": 2,
              },
              {
                "ActionTypeId": {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": {
                  "EnvironmentVariables": "[{"name":"ENDPOINT","type":"PLAINTEXT","value":"#{TestStackfruitapiGammauswest2fruitapi6ACE9A1B.endpointUrl}"}]",
                  "ProjectName": {
                    "Ref": "fruitapiPipelineGamma0Gammauswest2PerformanceTestPerformanceTest8C6ACD96",
                  },
                },
                "InputArtifacts": [
                  {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "Name": "Gamma-us-west-2.Performance_Test",
                "RoleArn": {
                  "Fn::GetAtt": [
                    "fruitapiCodeBuildActionRole9A61A6CE",
                    "Arn",
                  ],
                },
                "RunOrder": 3,
              },
              {
                "ActionTypeId": {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": {
                  "EnvironmentVariables": "[{"name":"ENDPOINT","type":"PLAINTEXT","value":"#{TestStackfruitapiGammauseast1fruitapi8F799F28.endpointUrl}"}]",
                  "ProjectName": {
                    "Ref": "fruitapiPipelineGamma0Gammauseast1PerformanceTestPerformanceTestE1E6B155",
                  },
                },
                "InputArtifacts": [
                  {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "Name": "Gamma-us-east-1.Performance_Test",
                "RoleArn": {
                  "Fn::GetAtt": [
                    "fruitapiCodeBuildActionRole9A61A6CE",
                    "Arn",
                  ],
                },
                "RunOrder": 3,
              },
              {
                "ActionTypeId": {
                  "Category": "Approval",
                  "Owner": "AWS",
                  "Provider": "Manual",
                  "Version": "1",
                },
                "Name": "PromoteToProd",
                "RoleArn": {
                  "Fn::GetAtt": [
                    "fruitapiPipelineGamma0PromoteToProdCodePipelineActionRoleC0594F5B",
                    "Arn",
                  ],
                },
                "RunOrder": 4,
              },
            ],
            "Name": "Gamma-0",
          },
          {
            "Actions": [
              {
                "ActionTypeId": {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": {
                  "ActionMode": "CHANGE_SET_REPLACE",
                  "Capabilities": "CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND",
                  "ChangeSetName": "PipelineChange",
                  "RoleArn": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition",
                        },
                        ":iam::000000000000:role/cdk-hnb659fds-cfn-exec-role-000000000000-us-west-2",
                      ],
                    ],
                  },
                  "StackName": "Prod-us-west-2-fruit-api",
                  "TemplateConfiguration": "Synth_Output::assembly-TestStack-fruit-api-Prod-us-west-2/TestStackfruitapiProduswest2fruitapiDDA9C7BF.template.json.config.json",
                  "TemplatePath": "Synth_Output::assembly-TestStack-fruit-api-Prod-us-west-2/TestStackfruitapiProduswest2fruitapiDDA9C7BF.template.json",
                },
                "InputArtifacts": [
                  {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "Prod-us-west-2.fruit-api.Prepare",
                "Region": "us-west-2",
                "RoleArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-west-2",
                    ],
                  ],
                },
                "RunOrder": 1,
              },
              {
                "ActionTypeId": {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": {
                  "ActionMode": "CHANGE_SET_REPLACE",
                  "Capabilities": "CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND",
                  "ChangeSetName": "PipelineChange",
                  "RoleArn": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition",
                        },
                        ":iam::000000000000:role/cdk-hnb659fds-cfn-exec-role-000000000000-us-east-1",
                      ],
                    ],
                  },
                  "StackName": "Prod-us-east-1-fruit-api",
                  "TemplateConfiguration": "Synth_Output::assembly-TestStack-fruit-api-Prod-us-east-1/TestStackfruitapiProduseast1fruitapiC0C2CDB3.template.json.config.json",
                  "TemplatePath": "Synth_Output::assembly-TestStack-fruit-api-Prod-us-east-1/TestStackfruitapiProduseast1fruitapiC0C2CDB3.template.json",
                },
                "InputArtifacts": [
                  {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "Prod-us-east-1.fruit-api.Prepare",
                "RoleArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-east-1",
                    ],
                  ],
                },
                "RunOrder": 1,
              },
              {
                "ActionTypeId": {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": {
                  "ActionMode": "CHANGE_SET_EXECUTE",
                  "ChangeSetName": "PipelineChange",
                  "StackName": "Prod-us-west-2-fruit-api",
                },
                "Name": "Prod-us-west-2.fruit-api.Deploy",
                "Region": "us-west-2",
                "RoleArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-west-2",
                    ],
                  ],
                },
                "RunOrder": 2,
              },
              {
                "ActionTypeId": {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": {
                  "ActionMode": "CHANGE_SET_EXECUTE",
                  "ChangeSetName": "PipelineChange",
                  "StackName": "Prod-us-east-1-fruit-api",
                },
                "Name": "Prod-us-east-1.fruit-api.Deploy",
                "RoleArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-east-1",
                    ],
                  ],
                },
                "RunOrder": 2,
              },
            ],
            "Name": "Prod-0",
          },
          {
            "Actions": [
              {
                "ActionTypeId": {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": {
                  "ActionMode": "CHANGE_SET_REPLACE",
                  "Capabilities": "CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND",
                  "ChangeSetName": "PipelineChange",
                  "RoleArn": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition",
                        },
                        ":iam::000000000000:role/cdk-hnb659fds-cfn-exec-role-000000000000-eu-central-1",
                      ],
                    ],
                  },
                  "StackName": "Prod-eu-central-1-fruit-api",
                  "TemplateConfiguration": "Synth_Output::assembly-TestStack-fruit-api-Prod-eu-central-1/TestStackfruitapiProdeucentral1fruitapi5AF03006.template.json.config.json",
                  "TemplatePath": "Synth_Output::assembly-TestStack-fruit-api-Prod-eu-central-1/TestStackfruitapiProdeucentral1fruitapi5AF03006.template.json",
                },
                "InputArtifacts": [
                  {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "Prod-eu-central-1.fruit-api.Prepare",
                "Region": "eu-central-1",
                "RoleArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-eu-central-1",
                    ],
                  ],
                },
                "RunOrder": 1,
              },
              {
                "ActionTypeId": {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": {
                  "ActionMode": "CHANGE_SET_REPLACE",
                  "Capabilities": "CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND",
                  "ChangeSetName": "PipelineChange",
                  "RoleArn": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition",
                        },
                        ":iam::000000000000:role/cdk-hnb659fds-cfn-exec-role-000000000000-eu-west-1",
                      ],
                    ],
                  },
                  "StackName": "Prod-eu-west-1-fruit-api",
                  "TemplateConfiguration": "Synth_Output::assembly-TestStack-fruit-api-Prod-eu-west-1/TestStackfruitapiProdeuwest1fruitapiC737DFE7.template.json.config.json",
                  "TemplatePath": "Synth_Output::assembly-TestStack-fruit-api-Prod-eu-west-1/TestStackfruitapiProdeuwest1fruitapiC737DFE7.template.json",
                },
                "InputArtifacts": [
                  {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "Prod-eu-west-1.fruit-api.Prepare",
                "Region": "eu-west-1",
                "RoleArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-eu-west-1",
                    ],
                  ],
                },
                "RunOrder": 1,
              },
              {
                "ActionTypeId": {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": {
                  "ActionMode": "CHANGE_SET_EXECUTE",
                  "ChangeSetName": "PipelineChange",
                  "StackName": "Prod-eu-central-1-fruit-api",
                },
                "Name": "Prod-eu-central-1.fruit-api.Deploy",
                "Region": "eu-central-1",
                "RoleArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-eu-central-1",
                    ],
                  ],
                },
                "RunOrder": 2,
              },
              {
                "ActionTypeId": {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": {
                  "ActionMode": "CHANGE_SET_EXECUTE",
                  "ChangeSetName": "PipelineChange",
                  "StackName": "Prod-eu-west-1-fruit-api",
                },
                "Name": "Prod-eu-west-1.fruit-api.Deploy",
                "Region": "eu-west-1",
                "RoleArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-eu-west-1",
                    ],
                  ],
                },
                "RunOrder": 2,
              },
            ],
            "Name": "Prod-1",
          },
          {
            "Actions": [
              {
                "ActionTypeId": {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": {
                  "ActionMode": "CHANGE_SET_REPLACE",
                  "Capabilities": "CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND",
                  "ChangeSetName": "PipelineChange",
                  "RoleArn": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition",
                        },
                        ":iam::000000000000:role/cdk-hnb659fds-cfn-exec-role-000000000000-ap-south-1",
                      ],
                    ],
                  },
                  "StackName": "Prod-ap-south-1-fruit-api",
                  "TemplateConfiguration": "Synth_Output::assembly-TestStack-fruit-api-Prod-ap-south-1/TestStackfruitapiProdapsouth1fruitapi9D505BC6.template.json.config.json",
                  "TemplatePath": "Synth_Output::assembly-TestStack-fruit-api-Prod-ap-south-1/TestStackfruitapiProdapsouth1fruitapi9D505BC6.template.json",
                },
                "InputArtifacts": [
                  {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "Prod-ap-south-1.fruit-api.Prepare",
                "Region": "ap-south-1",
                "RoleArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-ap-south-1",
                    ],
                  ],
                },
                "RunOrder": 1,
              },
              {
                "ActionTypeId": {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": {
                  "ActionMode": "CHANGE_SET_REPLACE",
                  "Capabilities": "CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND",
                  "ChangeSetName": "PipelineChange",
                  "RoleArn": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition",
                        },
                        ":iam::000000000000:role/cdk-hnb659fds-cfn-exec-role-000000000000-ap-southeast-2",
                      ],
                    ],
                  },
                  "StackName": "Prod-ap-southeast-2-fruit-api",
                  "TemplateConfiguration": "Synth_Output::assembly-TestStack-fruit-api-Prod-ap-southeast-2/TestStackfruitapiProdapsoutheast2fruitapi923CF575.template.json.config.json",
                  "TemplatePath": "Synth_Output::assembly-TestStack-fruit-api-Prod-ap-southeast-2/TestStackfruitapiProdapsoutheast2fruitapi923CF575.template.json",
                },
                "InputArtifacts": [
                  {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "Prod-ap-southeast-2.fruit-api.Prepare",
                "Region": "ap-southeast-2",
                "RoleArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-ap-southeast-2",
                    ],
                  ],
                },
                "RunOrder": 1,
              },
              {
                "ActionTypeId": {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": {
                  "ActionMode": "CHANGE_SET_EXECUTE",
                  "ChangeSetName": "PipelineChange",
                  "StackName": "Prod-ap-south-1-fruit-api",
                },
                "Name": "Prod-ap-south-1.fruit-api.Deploy",
                "Region": "ap-south-1",
                "RoleArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-ap-south-1",
                    ],
                  ],
                },
                "RunOrder": 2,
              },
              {
                "ActionTypeId": {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": {
                  "ActionMode": "CHANGE_SET_EXECUTE",
                  "ChangeSetName": "PipelineChange",
                  "StackName": "Prod-ap-southeast-2-fruit-api",
                },
                "Name": "Prod-ap-southeast-2.fruit-api.Deploy",
                "Region": "ap-southeast-2",
                "RoleArn": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-ap-southeast-2",
                    ],
                  ],
                },
                "RunOrder": 2,
              },
            ],
            "Name": "Prod-2",
          },
        ],
      },
      "Type": "AWS::CodePipeline::Pipeline",
    },
    "fruitapiPipelineArtifactsBucket07B9157E": {
      "DeletionPolicy": "Retain",
      "Properties": {
        "BucketEncryption": {
          "ServerSideEncryptionConfiguration": [
            {
              "ServerSideEncryptionByDefault": {
                "KMSMasterKeyID": {
                  "Fn::GetAtt": [
                    "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                    "Arn",
                  ],
                },
                "SSEAlgorithm": "aws:kms",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5": {
      "DeletionPolicy": "Delete",
      "Properties": {
        "KeyPolicy": {
          "Statement": [
            {
              "Action": "kms:*",
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::dummy:root",
                    ],
                  ],
                },
              },
              "Resource": "*",
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-east-1",
                    ],
                  ],
                },
              },
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::KMS::Key",
      "UpdateReplacePolicy": "Delete",
    },
    "fruitapiPipelineArtifactsBucketEncryptionKeyAlias323A80C8": {
      "DeletionPolicy": "Delete",
      "Properties": {
        "AliasName": "alias/codepipeline-teststackfruitapipipeline54c9b885",
        "TargetKeyId": {
          "Fn::GetAtt": [
            "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
            "Arn",
          ],
        },
      },
      "Type": "AWS::KMS::Alias",
      "UpdateReplacePolicy": "Delete",
    },
    "fruitapiPipelineArtifactsBucketPolicyE8E8DABA": {
      "Properties": {
        "Bucket": {
          "Ref": "fruitapiPipelineArtifactsBucket07B9157E",
        },
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "s3:*",
              "Condition": {
                "Bool": {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": {
                "AWS": "*",
              },
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-east-1",
                    ],
                  ],
                },
              },
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "fruitapiPipelineBetauswest2E2ETestE2ETest3CB062CC": {
      "Properties": {
        "Artifacts": {
          "Type": "CODEPIPELINE",
        },
        "Cache": {
          "Location": {
            "Fn::Join": [
              "/",
              [
                {
                  "Ref": "CacheBucket41D9D0B0",
                },
                {
                  "Ref": "AWS::NoValue",
                },
              ],
            ],
          },
          "Type": "S3",
        },
        "Description": "Pipeline step TestStack/Pipeline/Beta-us-west-2/E2E_Test",
        "EncryptionKey": {
          "Fn::GetAtt": [
            "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
            "Arn",
          ],
        },
        "Environment": {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:6.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": false,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": {
          "Fn::GetAtt": [
            "fruitapiPipelineBetauswest2E2ETestE2ETestRoleE3E5233A",
            "Arn",
          ],
        },
        "Source": {
          "BuildSpec": "{
  "env": {
    "variables": {
      "MAVEN_OPTS": "-XX:+TieredCompilation -XX:TieredStopAtLevel=1",
      "MAVEN_ARGS": "--batch-mode --no-transfer-progress"
    }
  },
  "phases": {
    "install": {
      "runtime-versions": {
        "java": "corretto17"
      }
    },
    "build": {
      "commands": [
        "mvn \${MAVEN_ARGS} soapui:test -Dsoapui.endpoint=\${ENDPOINT}"
      ]
    }
  },
  "cache": {
    "paths": [
      "/root/.m2/**/*"
    ]
  },
  "reports": {
    "e2e": {
      "files": [
        "target/soapui-reports/*.xml"
      ],
      "file-format": "JUNITXML"
    }
  },
  "version": "0.2"
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "fruitapiPipelineBetauswest2E2ETestE2ETestRoleDefaultPolicy1692C561": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "CacheBucket41D9D0B0",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "CacheBucket41D9D0B0",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      {
                        "Ref": "fruitapiPipelineBetauswest2E2ETestE2ETest3CB062CC",
                      },
                    ],
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      {
                        "Ref": "fruitapiPipelineBetauswest2E2ETestE2ETest3CB062CC",
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/",
                    {
                      "Ref": "fruitapiPipelineBetauswest2E2ETestE2ETest3CB062CC",
                    },
                    "-*",
                  ],
                ],
              },
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineBetauswest2E2ETestE2ETestRoleDefaultPolicy1692C561",
        "Roles": [
          {
            "Ref": "fruitapiPipelineBetauswest2E2ETestE2ETestRoleE3E5233A",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineBetauswest2E2ETestE2ETestRoleE3E5233A": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineBuild1CEF8E13": {
      "Properties": {
        "Artifacts": {
          "Type": "CODEPIPELINE",
        },
        "Cache": {
          "Location": {
            "Fn::Join": [
              "/",
              [
                {
                  "Ref": "CacheBucket41D9D0B0",
                },
                {
                  "Ref": "AWS::NoValue",
                },
              ],
            ],
          },
          "Type": "S3",
        },
        "Description": "Pipeline step TestStack/Pipeline/Build/Build",
        "EncryptionKey": {
          "Fn::GetAtt": [
            "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
            "Arn",
          ],
        },
        "Environment": {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:6.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": false,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": {
          "Fn::GetAtt": [
            "fruitapiPipelineBuildRoleD8011BF2",
            "Arn",
          ],
        },
        "Source": {
          "BuildSpec": "{
  "env": {
    "variables": {
      "MAVEN_OPTS": "-XX:+TieredCompilation -XX:TieredStopAtLevel=1",
      "MAVEN_ARGS": "--batch-mode --no-transfer-progress"
    }
  },
  "phases": {
    "install": {
      "runtime-versions": {
        "java": "corretto17"
      }
    },
    "build": {
      "commands": [
        "mvn \${MAVEN_ARGS} clean verify"
      ]
    }
  },
  "cache": {
    "paths": [
      "/root/.m2/**/*"
    ]
  },
  "reports": {
    "unit": {
      "files": [
        "target/surefire-reports/*.xml"
      ],
      "file-format": "JUNITXML"
    },
    "integration": {
      "files": [
        "target/soapui-reports/*.xml"
      ],
      "file-format": "JUNITXML"
    }
  },
  "version": "0.2",
  "artifacts": {
    "base-directory": ".",
    "files": [
      "**/*"
    ]
  }
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "fruitapiPipelineBuildCodeGuruQualityCodePipelineActionRole578506C4": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::GetAtt": [
                    "fruitapiPipelineRoleDFF3438D",
                    "Arn",
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineBuildCodeGuruQualityCodePipelineActionRoleDefaultPolicyF0F4E6F5": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "lambda:ListFunctions",
              "Effect": "Allow",
              "Resource": "*",
            },
            {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "fruitapiPipelineCodeGuruQualityCodeGuruLambdaF7A3E8BE",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "fruitapiPipelineCodeGuruQualityCodeGuruLambdaF7A3E8BE",
                          "Arn",
                        ],
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineBuildCodeGuruQualityCodePipelineActionRoleDefaultPolicyF0F4E6F5",
        "Roles": [
          {
            "Ref": "fruitapiPipelineBuildCodeGuruQualityCodePipelineActionRole578506C4",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineBuildCodeGuruSecurityCodePipelineActionRole29AC9D5B": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::GetAtt": [
                    "fruitapiPipelineRoleDFF3438D",
                    "Arn",
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineBuildCodeGuruSecurityCodePipelineActionRoleDefaultPolicyE15CCB79": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "lambda:ListFunctions",
              "Effect": "Allow",
              "Resource": "*",
            },
            {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "fruitapiPipelineCodeGuruSecurityCodeGuruLambda095BEB71",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "fruitapiPipelineCodeGuruSecurityCodeGuruLambda095BEB71",
                          "Arn",
                        ],
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineBuildCodeGuruSecurityCodePipelineActionRoleDefaultPolicyE15CCB79",
        "Roles": [
          {
            "Ref": "fruitapiPipelineBuildCodeGuruSecurityCodePipelineActionRole29AC9D5B",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineBuildRoleD8011BF2": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineBuildRoleDefaultPolicyC9102332": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "CacheBucket41D9D0B0",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "CacheBucket41D9D0B0",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      {
                        "Ref": "fruitapiPipelineBuild1CEF8E13",
                      },
                    ],
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      {
                        "Ref": "fruitapiPipelineBuild1CEF8E13",
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/",
                    {
                      "Ref": "fruitapiPipelineBuild1CEF8E13",
                    },
                    "-*",
                  ],
                ],
              },
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:DescribeKey",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineBuildRoleDefaultPolicyC9102332",
        "Roles": [
          {
            "Ref": "fruitapiPipelineBuildRoleD8011BF2",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineBuildSynthCdkBuildProjectB2FD2528": {
      "Properties": {
        "Artifacts": {
          "Type": "CODEPIPELINE",
        },
        "Cache": {
          "Type": "NO_CACHE",
        },
        "Description": "Pipeline step TestStack/Pipeline/Build/Synth",
        "EncryptionKey": {
          "Fn::GetAtt": [
            "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
            "Arn",
          ],
        },
        "Environment": {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:7.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": true,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": {
          "Fn::GetAtt": [
            "fruitapiPipelineBuildSynthCdkBuildProjectRole6C14B862",
            "Arn",
          ],
        },
        "Source": {
          "BuildSpec": "{
  "phases": {
    "install": {
      "runtime-versions": {
        "nodejs": 18
      }
    },
    "build": {
      "commands": [
        "yarn install --frozen-lockfile",
        "npm test",
        "npm run build"
      ]
    }
  },
  "version": "0.2",
  "artifacts": {
    "base-directory": "cdk.out",
    "files": [
      "**/*"
    ]
  }
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "fruitapiPipelineBuildSynthCdkBuildProjectRole6C14B862": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineBuildSynthCdkBuildProjectRoleDefaultPolicy034B1D6E": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      {
                        "Ref": "fruitapiPipelineBuildSynthCdkBuildProjectB2FD2528",
                      },
                    ],
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      {
                        "Ref": "fruitapiPipelineBuildSynthCdkBuildProjectB2FD2528",
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/",
                    {
                      "Ref": "fruitapiPipelineBuildSynthCdkBuildProjectB2FD2528",
                    },
                    "-*",
                  ],
                ],
              },
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:DescribeKey",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineBuildSynthCdkBuildProjectRoleDefaultPolicy034B1D6E",
        "Roles": [
          {
            "Ref": "fruitapiPipelineBuildSynthCdkBuildProjectRole6C14B862",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineBuildTrivyScan7159420B": {
      "Properties": {
        "Artifacts": {
          "Type": "CODEPIPELINE",
        },
        "Cache": {
          "Type": "NO_CACHE",
        },
        "Description": "Pipeline step TestStack/Pipeline/Build/TrivyScan",
        "EncryptionKey": {
          "Fn::GetAtt": [
            "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
            "Arn",
          ],
        },
        "Environment": {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:7.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": false,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": {
          "Fn::GetAtt": [
            "fruitapiPipelineBuildTrivyScanRole5EBDA9A1",
            "Arn",
          ],
        },
        "Source": {
          "BuildSpec": "{
  "phases": {
    "install": {
      "commands": [
        "curl -sfL https://raw.githubusercontent.com/aquasecurity/trivy/main/contrib/install.sh | sh -s -- -b /usr/local/bin "
      ]
    },
    "build": {
      "commands": [
        "trivy filesystem --exit-code 1 --no-progress --ignore-unfixed --format cyclonedx --output sbom.json --severity CRITICAL,HIGH --security-checks vuln,config,secret ."
      ]
    }
  },
  "version": "0.2",
  "artifacts": {
    "base-directory": ".",
    "files": [
      "**/*"
    ]
  }
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "fruitapiPipelineBuildTrivyScanRole5EBDA9A1": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineBuildTrivyScanRoleDefaultPolicyF807A158": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      {
                        "Ref": "fruitapiPipelineBuildTrivyScan7159420B",
                      },
                    ],
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      {
                        "Ref": "fruitapiPipelineBuildTrivyScan7159420B",
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/",
                    {
                      "Ref": "fruitapiPipelineBuildTrivyScan7159420B",
                    },
                    "-*",
                  ],
                ],
              },
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:DescribeKey",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineBuildTrivyScanRoleDefaultPolicyF807A158",
        "Roles": [
          {
            "Ref": "fruitapiPipelineBuildTrivyScanRole5EBDA9A1",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineCodeGuruQualityCodeGuruLambdaF7A3E8BE": {
      "DependsOn": [
        "fruitapiPipelineCodeGuruQualityCodeGuruLambdaServiceRoleDefaultPolicy7BFC3B00",
        "fruitapiPipelineCodeGuruQualityCodeGuruLambdaServiceRoleB8AD4EAA",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-dummy-us-east-1",
          "S3Key": "code.zip",
        },
        "Handler": "index.main",
        "Role": {
          "Fn::GetAtt": [
            "fruitapiPipelineCodeGuruQualityCodeGuruLambdaServiceRoleB8AD4EAA",
            "Arn",
          ],
        },
        "Runtime": "nodejs22.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "fruitapiPipelineCodeGuruQualityCodeGuruLambdaServiceRoleB8AD4EAA": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineCodeGuruQualityCodeGuruLambdaServiceRoleDefaultPolicy7BFC3B00": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "codeguru-reviewer:ListCodeReviews",
                "codeguru-reviewer:ListRecommendations",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            {
              "Action": [
                "codepipeline:PutJobSuccessResult",
                "codepipeline:PutJobFailureResult",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineCodeGuruQualityCodeGuruLambdaServiceRoleDefaultPolicy7BFC3B00",
        "Roles": [
          {
            "Ref": "fruitapiPipelineCodeGuruQualityCodeGuruLambdaServiceRoleB8AD4EAA",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineCodeGuruSecurityCodeGuruLambda095BEB71": {
      "DependsOn": [
        "fruitapiPipelineCodeGuruSecurityCodeGuruLambdaServiceRoleDefaultPolicy375B423D",
        "fruitapiPipelineCodeGuruSecurityCodeGuruLambdaServiceRoleB69482CC",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-dummy-us-east-1",
          "S3Key": "code.zip",
        },
        "Handler": "index.main",
        "Role": {
          "Fn::GetAtt": [
            "fruitapiPipelineCodeGuruSecurityCodeGuruLambdaServiceRoleB69482CC",
            "Arn",
          ],
        },
        "Runtime": "nodejs22.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "fruitapiPipelineCodeGuruSecurityCodeGuruLambdaServiceRoleB69482CC": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineCodeGuruSecurityCodeGuruLambdaServiceRoleDefaultPolicy375B423D": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "codeguru-reviewer:ListCodeReviews",
                "codeguru-reviewer:ListRecommendations",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            {
              "Action": [
                "codepipeline:PutJobSuccessResult",
                "codepipeline:PutJobFailureResult",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineCodeGuruSecurityCodeGuruLambdaServiceRoleDefaultPolicy375B423D",
        "Roles": [
          {
            "Ref": "fruitapiPipelineCodeGuruSecurityCodeGuruLambdaServiceRoleB69482CC",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineEventsRole00ED83BE": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "events.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineEventsRoleDefaultPolicy805E8108": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "codepipeline:StartPipelineExecution",
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition",
                    },
                    ":codepipeline:us-east-1:dummy:",
                    {
                      "Ref": "fruitapiPipeline1F033DA2",
                    },
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineEventsRoleDefaultPolicy805E8108",
        "Roles": [
          {
            "Ref": "fruitapiPipelineEventsRole00ED83BE",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineGamma0Gammauseast1PerformanceTestPerformanceTestE1E6B155": {
      "Properties": {
        "Artifacts": {
          "Type": "CODEPIPELINE",
        },
        "Cache": {
          "Location": {
            "Fn::Join": [
              "/",
              [
                {
                  "Ref": "CacheBucket41D9D0B0",
                },
                {
                  "Ref": "AWS::NoValue",
                },
              ],
            ],
          },
          "Type": "S3",
        },
        "Description": "Pipeline step TestStack/Pipeline/Gamma-0/Gamma-us-east-1.Performance_Test",
        "EncryptionKey": {
          "Fn::GetAtt": [
            "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
            "Arn",
          ],
        },
        "Environment": {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:6.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": false,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": {
          "Fn::GetAtt": [
            "fruitapiPipelineGamma0Gammauseast1PerformanceTestPerformanceTestRole220C9DC2",
            "Arn",
          ],
        },
        "Source": {
          "BuildSpec": "{
  "env": {
    "variables": {
      "MAVEN_OPTS": "-XX:+TieredCompilation -XX:TieredStopAtLevel=1",
      "MAVEN_ARGS": "--batch-mode --no-transfer-progress"
    }
  },
  "phases": {
    "install": {
      "runtime-versions": {
        "java": "corretto17"
      }
    },
    "build": {
      "commands": [
        "mvn \${MAVEN_ARGS} compile jmeter:jmeter jmeter:results -Djmeter.endpoint=\${ENDPOINT} -Djmeter.threads=300 -Djmeter.duration=300 -Djmeter.throughput=6000"
      ]
    }
  },
  "cache": {
    "paths": [
      "/root/.m2/**/*"
    ]
  },
  "version": "0.2"
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "fruitapiPipelineGamma0Gammauseast1PerformanceTestPerformanceTestRole220C9DC2": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineGamma0Gammauseast1PerformanceTestPerformanceTestRoleDefaultPolicy85F928A0": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "CacheBucket41D9D0B0",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "CacheBucket41D9D0B0",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      {
                        "Ref": "fruitapiPipelineGamma0Gammauseast1PerformanceTestPerformanceTestE1E6B155",
                      },
                    ],
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      {
                        "Ref": "fruitapiPipelineGamma0Gammauseast1PerformanceTestPerformanceTestE1E6B155",
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/",
                    {
                      "Ref": "fruitapiPipelineGamma0Gammauseast1PerformanceTestPerformanceTestE1E6B155",
                    },
                    "-*",
                  ],
                ],
              },
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineGamma0Gammauseast1PerformanceTestPerformanceTestRoleDefaultPolicy85F928A0",
        "Roles": [
          {
            "Ref": "fruitapiPipelineGamma0Gammauseast1PerformanceTestPerformanceTestRole220C9DC2",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineGamma0Gammauswest2PerformanceTestPerformanceTest8C6ACD96": {
      "Properties": {
        "Artifacts": {
          "Type": "CODEPIPELINE",
        },
        "Cache": {
          "Location": {
            "Fn::Join": [
              "/",
              [
                {
                  "Ref": "CacheBucket41D9D0B0",
                },
                {
                  "Ref": "AWS::NoValue",
                },
              ],
            ],
          },
          "Type": "S3",
        },
        "Description": "Pipeline step TestStack/Pipeline/Gamma-0/Gamma-us-west-2.Performance_Test",
        "EncryptionKey": {
          "Fn::GetAtt": [
            "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
            "Arn",
          ],
        },
        "Environment": {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:6.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": false,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": {
          "Fn::GetAtt": [
            "fruitapiPipelineGamma0Gammauswest2PerformanceTestPerformanceTestRole5F4FA7CF",
            "Arn",
          ],
        },
        "Source": {
          "BuildSpec": "{
  "env": {
    "variables": {
      "MAVEN_OPTS": "-XX:+TieredCompilation -XX:TieredStopAtLevel=1",
      "MAVEN_ARGS": "--batch-mode --no-transfer-progress"
    }
  },
  "phases": {
    "install": {
      "runtime-versions": {
        "java": "corretto17"
      }
    },
    "build": {
      "commands": [
        "mvn \${MAVEN_ARGS} compile jmeter:jmeter jmeter:results -Djmeter.endpoint=\${ENDPOINT} -Djmeter.threads=300 -Djmeter.duration=300 -Djmeter.throughput=6000"
      ]
    }
  },
  "cache": {
    "paths": [
      "/root/.m2/**/*"
    ]
  },
  "version": "0.2"
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "fruitapiPipelineGamma0Gammauswest2PerformanceTestPerformanceTestRole5F4FA7CF": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineGamma0Gammauswest2PerformanceTestPerformanceTestRoleDefaultPolicy80ED2F34": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "CacheBucket41D9D0B0",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "CacheBucket41D9D0B0",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      {
                        "Ref": "fruitapiPipelineGamma0Gammauswest2PerformanceTestPerformanceTest8C6ACD96",
                      },
                    ],
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      {
                        "Ref": "fruitapiPipelineGamma0Gammauswest2PerformanceTestPerformanceTest8C6ACD96",
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/",
                    {
                      "Ref": "fruitapiPipelineGamma0Gammauswest2PerformanceTestPerformanceTest8C6ACD96",
                    },
                    "-*",
                  ],
                ],
              },
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineGamma0Gammauswest2PerformanceTestPerformanceTestRoleDefaultPolicy80ED2F34",
        "Roles": [
          {
            "Ref": "fruitapiPipelineGamma0Gammauswest2PerformanceTestPerformanceTestRole5F4FA7CF",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineGamma0PromoteToProdCodePipelineActionRoleC0594F5B": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::GetAtt": [
                    "fruitapiPipelineRoleDFF3438D",
                    "Arn",
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineRoleDFF3438D": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "codepipeline.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineRoleDefaultPolicyAA4C5A7F": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:DescribeKey",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineSourceCodeCommitCodePipelineActionRole408E27CC",
                  "Arn",
                ],
              },
            },
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineBuildCodeGuruQualityCodePipelineActionRole578506C4",
                  "Arn",
                ],
              },
            },
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineBuildCodeGuruSecurityCodePipelineActionRole29AC9D5B",
                  "Arn",
                ],
              },
            },
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiCodeBuildActionRole9A61A6CE",
                  "Arn",
                ],
              },
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::teststack-support-us-westeplicationbucket6c4b3648c465b12ccb3f",
                    ],
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::teststack-support-us-westeplicationbucket6c4b3648c465b12ccb3f/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:DescribeKey",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition",
                    },
                    ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-west-2",
                  ],
                ],
              },
            },
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition",
                    },
                    ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-east-1",
                  ],
                ],
              },
            },
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineGamma0PromoteToProdCodePipelineActionRoleC0594F5B",
                  "Arn",
                ],
              },
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::teststack-support-eu-centeplicationbucket2ea6a5e48d5e28fc8bac",
                    ],
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::teststack-support-eu-centeplicationbucket2ea6a5e48d5e28fc8bac/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition",
                    },
                    ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-eu-central-1",
                  ],
                ],
              },
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::teststack-support-eu-westeplicationbucket38f2db97e24f75f47670",
                    ],
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::teststack-support-eu-westeplicationbucket38f2db97e24f75f47670/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition",
                    },
                    ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-eu-west-1",
                  ],
                ],
              },
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::teststack-support-ap-souteplicationbucket9f37be574b7489dcf907",
                    ],
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::teststack-support-ap-souteplicationbucket9f37be574b7489dcf907/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition",
                    },
                    ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-ap-south-1",
                  ],
                ],
              },
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::teststack-support-ap-souteplicationbucket96d426b15838f27daa81",
                    ],
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":s3:::teststack-support-ap-souteplicationbucket96d426b15838f27daa81/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition",
                    },
                    ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-ap-southeast-2",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineRoleDefaultPolicyAA4C5A7F",
        "Roles": [
          {
            "Ref": "fruitapiPipelineRoleDFF3438D",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiPipelineSourceCodeCommitCodePipelineActionRole408E27CC": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::GetAtt": [
                    "fruitapiPipelineRoleDFF3438D",
                    "Arn",
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiPipelineSourceCodeCommitCodePipelineActionRoleDefaultPolicy377E2A91": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:DescribeKey",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
            {
              "Action": [
                "codecommit:GetBranch",
                "codecommit:GetCommit",
                "codecommit:UploadArchive",
                "codecommit:GetUploadArchiveStatus",
                "codecommit:CancelUploadArchive",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "SourceCodeCommitRepoF7A67B81",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiPipelineSourceCodeCommitCodePipelineActionRoleDefaultPolicy377E2A91",
        "Roles": [
          {
            "Ref": "fruitapiPipelineSourceCodeCommitCodePipelineActionRole408E27CC",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "fruitapiUpdatePipelineSelfMutation2C85BD41": {
      "Properties": {
        "Artifacts": {
          "Type": "CODEPIPELINE",
        },
        "Cache": {
          "Type": "NO_CACHE",
        },
        "Description": "Pipeline step TestStack/Pipeline/UpdatePipeline/SelfMutate",
        "EncryptionKey": {
          "Fn::GetAtt": [
            "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
            "Arn",
          ],
        },
        "Environment": {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:7.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": false,
          "Type": "LINUX_CONTAINER",
        },
        "Name": "fruit-api-selfupdate",
        "ServiceRole": {
          "Fn::GetAtt": [
            "fruitapiUpdatePipelineSelfMutationRoleC7BC4C3A",
            "Arn",
          ],
        },
        "Source": {
          "BuildSpec": "{
  "version": "0.2",
  "phases": {
    "install": {
      "commands": [
        "npm install -g aws-cdk@2"
      ]
    },
    "build": {
      "commands": [
        "cdk -a . deploy TestStack --require-approval=never --verbose"
      ]
    }
  }
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "fruitapiUpdatePipelineSelfMutationRoleC7BC4C3A": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "fruitapiUpdatePipelineSelfMutationRoleDefaultPolicy4A3C9CE5": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      {
                        "Ref": "fruitapiUpdatePipelineSelfMutation2C85BD41",
                      },
                    ],
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      {
                        "Ref": "fruitapiUpdatePipelineSelfMutation2C85BD41",
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/",
                    {
                      "Ref": "fruitapiUpdatePipelineSelfMutation2C85BD41",
                    },
                    "-*",
                  ],
                ],
              },
            },
            {
              "Action": "sts:AssumeRole",
              "Condition": {
                "ForAnyValue:StringEquals": {
                  "iam:ResourceTag/aws-cdk:bootstrap-role": [
                    "image-publishing",
                    "file-publishing",
                    "deploy",
                  ],
                },
              },
              "Effect": "Allow",
              "Resource": "arn:*:iam::dummy:role/*",
            },
            {
              "Action": "cloudformation:DescribeStacks",
              "Effect": "Allow",
              "Resource": "*",
            },
            {
              "Action": "s3:ListBucket",
              "Effect": "Allow",
              "Resource": "*",
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "fruitapiPipelineArtifactsBucket07B9157E",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "fruitapiPipelineArtifactsBucket07B9157E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "fruitapiPipelineArtifactsBucketEncryptionKey9E5E2FC5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "fruitapiUpdatePipelineSelfMutationRoleDefaultPolicy4A3C9CE5",
        "Roles": [
          {
            "Ref": "fruitapiUpdatePipelineSelfMutationRoleC7BC4C3A",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;
